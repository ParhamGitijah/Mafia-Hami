<div
  [dir]="this.dir"
  style="width: 100%; padding-left: 12px; padding-right: 12px"
>
  <div
    *ngIf="!this.gameStarted"
    style="
      position: absolute;
      width: 75%;
      margin-left: auto;
      margin-right: auto;
      top: 35%;
      left: 0;
      right: 0;
      text-align: center;
    "
    [ngClass]="{ playerJoined: this.playerList.length > 0 }"
  >
    <div
      class="align-items-center justify-content-center"
      style="
        position: relative;
        background-color: green;
        color: aliceblue;
        border-radius: 25px;
        z-index: 999;
      "
    >
      <div class="row text-center">
        <div translate="askJoinGameId"></div>
        <div style="font-weight: bold; font-size: 20px">{{ this.gameId }}</div>
      </div>
    </div>
  </div>

  <div *ngIf="!this.gameStarted" style="margin-top: 150px; text-align: center">
    <div *ngIf="!this.newGameStart">
      <div
        class="mt-3 row d-flex align-items-center justify-content-center"
        style="
          border-radius: 15px;
          background-color: rgb(0, 139, 177);
          color: white;
          font-size: 16px;
          width: 75%;
          font-weight: bold;
          height: 50px;
          margin-left: auto;
          margin-right: auto;
        "
        *ngFor="let item of this.playerList"
      >
        {{ item.name }}
      </div>
    </div>
    <div
      *ngIf="!isUserHost"
      class="d-flex align-items-center justify-content-center"
      style="color: rgb(0, 0, 0); font-size: 22px; font-weight: bold"
      translate="waitingForHost"
    ></div>
    <div
      *ngIf="isUserHost && this.playerList.length > 0"
      class="row align-items-center justify-content-center"
    >
      <div
        class="d-flex align-items-center justify-content-center m-3"
        *ngIf="this.playerList.length < 6"
        style="color: rgb(0, 0, 0)"
        translate="minPlayersReq"
      ></div>
      <button
        [disabled]="this.playerList.length < 6"
        class="btn btn-primary m-3"
        style="
          width: 45%;
          margin-left: auto;
          margin-right: auto;
          left: 0;
          right: 0;
          text-align: center;
        "
        (click)="startTheGame(playerList)"
        translate="dealRolesSlump"
      ></button>
    </div>
  </div>
  <div class="row d-flex align-items-center justify-content-center mt-3 p-0">
    <button
      *ngIf="!this.gameStarted"
      (click)="playerExit()"
      class="btn btn-danger p-2 m-0"
      style="text-align: center; width: 22%"
      translate="exit"
    ></button>
  </div>
  <div
    *ngIf="!this.showPlayerRole && this.gameStarted"
    class="d-flex flex-column justify-content-center align-items-center"
    style="height: 100vh; font-size: 25px"
  >
    <div translate="yourRoleWillShow"></div>
    <div style="font-weight: bold">
      {{ timeLeft }}
    </div>
  </div>
  <div *ngIf="this.showPlayerRole" class="row p-0 justify-content-center">
    <div class="col-10 p-0 mt-5" *ngIf="this.player.mafia == true">
      <table class="table table-striped">
        <thead>
          <tr
            scope="row"
            class="text-center"
            style="font-weight: bold; font-size: large"
            translate="yourmates"
          ></tr>
          <tr>
            <th scope="col" class="text-center">نام</th>
            <th scope="col" class="text-center">نقش</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let player of this.yourMatesMafia">
            <td class="text-center" style="vertical-align: middle" scope="row">
              {{ player.name }}
            </td>
            <td class="text-center" style="vertical-align: middle">
              {{ player.role | translate }}
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="cardRole col-5 mt-3">
      <p
        class="d-flex justify-content-center mt-4"
        translate="yourrole"
        style="font-weight: bold"
      ></p>
      <p class="d-flex justify-content-center mt-4" style="font-weight: bolder">
        {{ player.role | translate }}
      </p>
      <div class="d-flex justify-content-center">
        <img [src]="'../../../assets/' + player.role + '.png'" />
      </div>
    </div>
  </div>
</div>
